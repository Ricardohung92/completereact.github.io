{"version":3,"sources":["componentes/UserTable.jsx","componentes/AddUserForm.jsx","componentes/EditUserForm.jsx","App.js","index.js"],"names":["UserTable","React","useState","equipo","setEquipo","id","data","useEffect","obtenerDatos","a","fetch","json","users","map","item","key","nombre","identificacion","curso","nota1","nota2","nota3","className","onClick","method","headers","body","JSON","stringify","catch","err","console","log","window","location","href","AddUserForm","props","setdata","handle","e","newData","target","value","onSubmit","preventDefault","Axios","post","then","res","submit","for","onChange","type","name","placeholder","EditUserForm","useForm","defaultValues","currentUser","register","errors","handleSubmit","setValue","username","updateUser","reset","ref","required","message","App","setUsers","editing","setEditing","setCurrentUser","user","addUser","uuidv4","deleteUser","filter","editRow","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.41e0bc7d.chunk.js","sourcesContent":["import React, {useState} from 'react';\r\n\r\nconst UserTable = () => {\r\n  const url = \"https://desolate-bastion-41670.herokuapp.com/delete.php\";\r\n\r\n  const [equipo, setEquipo] = React.useState([]);\r\n  const [data, setdata]=useState( \r\n    {\r\n      id: ''\r\n    }\r\n  \r\n\r\n)\r\n\r\n  React.useEffect(() => {\r\n    obtenerDatos();\r\n  }, []);\r\n\r\n  const obtenerDatos = async () => {\r\n    const data = await fetch(\r\n      'https://desolate-bastion-41670.herokuapp.com/read.php'\r\n    );\r\n    const users = await data.json();\r\n    setEquipo(users);\r\n  };\r\n  function submit(id){\r\n    debugger\r\n      \r\n    data.id= id \r\n   \r\n   \r\n     fetch(url ,{\r\n       method: \"DELETE\",         \r\n       headers: {'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8 '},\r\n       body: JSON.stringify(data)\r\n     })\r\n     .catch(err => console.log(err)\r\n     )\r\n     window.location.href = window.location.href;\r\n\r\n  }\r\n  return (\r\n    <table>\r\n      <thead>\r\n        <tr>\r\n        <th>Nombre</th>\r\n        <th>identificacion</th>\r\n        <th>Curso</th>\r\n        <th>nota1</th>\r\n        <th>nota2</th>\r\n        <th>nota3</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        {equipo.map((item) => (\r\n          <tr key={item.id}>\r\n            <td>{item.nombre}</td>\r\n            <td>{item.identificacion}</td>\r\n            <td>{item.curso}</td>\r\n            <td>{item.nota1}</td>\r\n            <td>{item.nota2}</td>\r\n            <td>{item.nota3}</td>\r\n            <td>\r\n              <button className=\"button muted-button\">Editar</button>\r\n              <button onClick= {()=>submit(item.id)}  className=\"button muted-button\">Eliminar</button>\r\n            </td>\r\n          </tr>\r\n        ))}\r\n      </tbody>\r\n    </table>\r\n  );\r\n};\r\n\r\nexport default UserTable;\r\n\r\n\r\n\r\n{\r\n// import React from 'react';\r\n\r\n// const UserTable = () => {\r\n//   const [equipo, setEquipo] = React.useState([]);\r\n\r\n//   React.useEffect(() => {\r\n//     obtenerDatos();\r\n//   }, []);\r\n\r\n//   const obtenerDatos = async () => {\r\n//     const data = await fetch(\r\n//       'https://desolate-bastion-41670.herokuapp.com/read.php'\r\n//     );\r\n//     const users = await data.json();\r\n//     setEquipo(users);\r\n//   };\r\n//   return (\r\n//     <table>\r\n//       <thead>\r\n//         <tr>\r\n//         <th>Nombre</th>\r\n//         <th>identificacion</th>\r\n//         <th>Curso</th>\r\n//         <th>nota1</th>\r\n//         <th>nota2</th>\r\n//         <th>nota3</th>\r\n//         </tr>\r\n//       </thead>\r\n//       <tbody>\r\n//         {equipo.map((item) => (\r\n//           <tr key={item.id}>\r\n//             <td>{item.nombre}</td>\r\n//             <td>{item.identificacion}</td>\r\n//             <td>{item.curso}</td>\r\n//             <td>{item.nota1}</td>\r\n//             <td>{item.nota2}</td>\r\n//             <td>{item.nota3}</td>\r\n//             <td>\r\n//               <button className=\"button muted-button\">Editar</button>\r\n//               <button className=\"button muted-button\">Eliminar</button>\r\n//             </td>\r\n//           </tr>\r\n//         ))}\r\n//       </tbody>\r\n//     </table>\r\n//   );\r\n// };\r\n\r\n// export default UserTable;\r\n}","import React, {useState} from 'react'\r\nimport Axios from 'axios';\r\n\r\n\r\n\r\nexport default function AddUserForm(props) {\r\n\r\n const url = \"https://desolate-bastion-41670.herokuapp.com/insert.php\"\r\n\r\n const [data, setdata]=useState(\r\n     {\r\n    nombre: '',\r\n    identificacion: '',\r\n    curso: '',\r\n    nota1: '',\r\n    nota2: '',\r\n    nota3: '',\r\n     }\r\n     )\r\n     \r\n     function submit(e){\r\n         debugger\r\n         e.preventDefault()\r\n         Axios.post(url,JSON.stringify(data))   \r\n         .then(res => {\r\n             res.data = data;\r\n           \r\n            //  fetch(Url, {\r\n            //     method: 'POST', // or 'PUT'\r\n            //     body: JSON.stringify(data), // data can be `string` or {object}!\r\n            //     headers:{\r\n            //       'Content-Type': 'application/json'\r\n            //     }\r\n            //   }).then(res => res.json())\r\n            //   .catch(error => console.error('Error:', error))\r\n            //   .then(response => console.log('Success:', response));\r\n            \r\n             \r\n    })\r\n    window.location.href = window.location.href;\r\n   \r\n }\r\n\r\n\r\n function handle(e){\r\n   \r\n    const newData = {...data};\r\n    newData[e.target.id] = e.target.value;\r\n    setdata(newData)\r\n }\r\n return (\r\n     <div className=\"container mr-0\">\r\n     <hr />\r\n         <form  onSubmit= {(e)=>submit(e)}>\r\n         <div className=\"form-group\">\r\n         <label for=\"nombre\">Nombre</label>\r\n         <input onChange={(e)=>handle(e)}  value={data.nombre} type=\"text\" name=\"nombre\" className={`form-control is-valid`} id=\"nombre\" placeholder=\"nombre\" />\r\n         <label for=\"apellido\">Identificacion</label>\r\n         <input onChange={(e)=>handle(e)} value={data.identificacion} type=\"text\" name=\"identificacion\" className=\"form-control is-valid\" id=\"identificacion\" placeholder=\"identificacion\" />\r\n         <label for=\"identificacion\">curso</label>\r\n         <input onChange={(e)=>handle(e)} value={data.curso} type=\"text\" name=\"curso\" className=\"form-control is-valid\" id=\"curso\" placeholder=\"curso\" />\r\n         <label for=\"correo\">Nota 01</label>\r\n         <input onChange={(e)=>handle(e)} value={data.nota1} type=\"text\" name=\"nota1\" className=\"form-control data.noombre != is-valid \" id=\"nota1\" placeholder=\"nota1\" />\r\n         <label for=\"correo\">Nota 02</label>\r\n         <input onChange={(e)=>handle(e)} value={data.nota2} type=\"text\" name=\"nota2\" className=\"form-control data.noombre != is-valid \" id=\"nota2\" placeholder=\"nota2\" />\r\n         <label for=\"correo\">Nota 03</label>\r\n         <input onChange={(e)=>handle(e)} value={data.nota3} type=\"text\" name=\"nota3\" className=\"form-control data.noombre != is-valid \" id=\"nota3\" placeholder=\"nota3\" />\r\n         </div>\r\n\r\n         <button type=\"submit\"  className=\"btn btn-success\">Agregar</button>\r\n\r\n         </form>\r\n     </div>\r\n )\r\n}\r\n\r\n    // nombre: '',\r\n    // identificacion: '',\r\n    // curso: '',\r\n    // nota1: '',\r\n    // nota2: '',\r\n    // nota3: '',\r\n    //https://desolate-bastion-41670.herokuapp.com/insert.php","import React from 'react'\r\nimport {useForm} from 'react-hook-form'\r\n\r\nconst EditUserForm = (props) => {\r\n\r\n    // console.log(props.currentUser)\r\n\r\n    const {register, errors, handleSubmit, setValue } = useForm({\r\n        defaultValues: props.currentUser\r\n    });\r\n\r\n    setValue('name', props.currentUser.name);\r\n    setValue('username', props.currentUser.username);\r\n\r\n    const onSubmit = (data,e) => {\r\n        console.log(data)\r\n        data.id= props.currentUser.id\r\n\r\n        props.updateUser(props.currentUser.id, data)\r\n\r\n        // limpiar campos\r\n        e.target.reset();\r\n    }\r\n\r\n    return(\r\n        <form onSubmit={handleSubmit(onSubmit)}>\r\n            <label>Nombre</label>\r\n            <input type=\"text\" name=\"name\" ref={\r\n                register({\r\n                    required: {value:true, message:'Campo requerido'}\r\n                })\r\n            }/>\r\n            <div>{errors?.name?.message}</div>\r\n\r\n            <label>Nombre de usuario</label>\r\n            <input type=\"text\" name=\"curso\" ref={\r\n                register({\r\n                    required: {value:true, message:'Campo requerido'}\r\n                })\r\n            }/>\r\n            <div>{errors?.username?.message}</div>\r\n            <button>Editar usuario</button>\r\n        </form>\r\n    );\r\n}\r\n\r\nexport default EditUserForm;","import React, {useState} from 'react';\nimport {v4 as uuidv4} from 'uuid';\nimport UserTable from './componentes/UserTable';\nimport AddUserForm from './componentes/AddUserForm';\nimport EditUserForm from './componentes/EditUserForm';\n\nfunction App() {\n\n    const usersData = []\n\n    //state\n    const [users,setUsers] = useState (usersData);\n\n    //agregar usuarios\n    const addUser = (user) => {\n        user.id = uuidv4()\n        setUsers([...users,user])\n    }\n\n    //eliminar usuarios\n    const deleteUser = (id) =>{\n        setUsers(users.filter(user => user.id !== id))\n    }\n\n    //editar usuario\n    const [editing, setEditing] = useState (false);\n\n    const [currentUser, setCurrentUser] = useState ({\n        id: null, name: '', curso: '', identificacion: '', nota1: '', nota2: '', nota3: ''\n    })\n\n    const editRow = (user) => {\n        setEditing(true);\n        setCurrentUser({\n            id: user.id, name: user.name, curso: user.curso, identificacion: user.identificacion, nota1: user.nota1, nota2: user.nota2, nota3: user.nota3\n        })\n    }\n\n    const updateUser = (id, updateUser) => {\n        setEditing(false);\n        setUsers(users.map(user => (user.id === id ? updateUser : user)))\n    }\n\n\n    ///////////////////////////////////////////////////////////\n    return (\n    <div className=\"container\">\n        <h1>CRUD App aplicando hooks por: Ricardo Hung</h1>\n        <hr></hr>\n        <div className=\"flex-row\">\n            <div className=\"flex-large\">\n                \n                {\n                    editing ? (\n                        <div>\n                            <h2>Editar usuario</h2>\n                            <EditUserForm\n                                currentUser={currentUser}\n                                updateUser={updateUser}\n                            />\n                        </div>\n                    ):(\n                        <div>\n                            <h2>Agregar usuario nuevo</h2>\n                            <AddUserForm addUser={addUser}/>                        \n                        </div>\n                    )\n                }\n\n            </div>\n            <div className=\"flex-large\">\n                <h2>Visualizar usuarios</h2>\n                <hr/>\n                <UserTable \n                    users={users} \n                    deleteUser={deleteUser} \n                    editRow={editRow}\n                />\n            </div>\n        </div>\n    </div>\n    )\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}